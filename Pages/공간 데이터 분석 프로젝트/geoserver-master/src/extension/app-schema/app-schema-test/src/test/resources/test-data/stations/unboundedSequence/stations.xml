<?xml version="1.0" encoding="UTF-8"?>
<as:AppSchemaDataAccess xmlns:as="http://www.geotools.org/app-schema"
                        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                        xsi:schemaLocation="http://www.geotools.org/app-schema AppSchemaDataAccess.xsd">
  <namespaces>
    <Namespace>
      <prefix>st_${GML_PREFIX}</prefix>
      <uri>http://www.stations_${GML_PREFIX}.org/1.0</uri>
    </Namespace>
    <Namespace>
      <prefix>ms_${GML_PREFIX}</prefix>
      <uri>http://www.measurements_${GML_PREFIX}.org/1.0</uri>
    </Namespace>
  </namespaces>
  <sourceDataStores>
    <DataStore>
      <id>stations_${GML_PREFIX}</id>
      <parameters>
        <Parameter>
          <name>directory</name>
          <value>file:./</value>
        </Parameter>
      </parameters>
    </DataStore>
  </sourceDataStores>
  <includedTypes>
    <Include>measurements_${GML_PREFIX}.xml</Include>
  </includedTypes>
  <targetTypes>
    <FeatureType>
      <schemaUri>stations_${GML_PREFIX}.xsd</schemaUri>
    </FeatureType>
  </targetTypes>
  <typeMappings>
    <FeatureTypeMapping>
      <sourceDataStore>stations_${GML_PREFIX}</sourceDataStore>
      <sourceType>stations_${GML_PREFIX}</sourceType>
      <targetElement>st_${GML_PREFIX}:Station_${GML_PREFIX}</targetElement>
      <attributeMappings>
        <AttributeMapping>
          <targetAttribute>st_${GML_PREFIX}:Station_${GML_PREFIX}</targetAttribute>
          <idExpression>
            <OCQL>ID</OCQL>
          </idExpression>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>st_${GML_PREFIX}:name</targetAttribute>
          <sourceExpression>
            <OCQL>NAME</OCQL>
          </sourceExpression>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>st_${GML_PREFIX}:location</targetAttribute>
          <sourceExpression>
            <OCQL>LOCATION</OCQL>
          </sourceExpression>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>st_${GML_PREFIX}:maintainer</targetAttribute>
          <jdbcMultipleValue>
            <sourceColumn>ID</sourceColumn>
            <targetTable>MAINTAINERS_${GML_PREFIX_UPPER}</targetTable>
            <targetColumn>OWNER</targetColumn>
          </jdbcMultipleValue>
          <anonymousAttribute>
            <name>st_${GML_PREFIX}:name</name>
            <value>NAME</value>
          </anonymousAttribute>
          <anonymousAttribute>
            <name>st_${GML_PREFIX}:level</name>
            <value>LEVEL</value>
          </anonymousAttribute>
          <anonymousAttribute>
            <name>st_${GML_PREFIX}:classType</name>
            <value>CLASSTYPE</value>
          </anonymousAttribute>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>st_${GML_PREFIX}:measurements</targetAttribute>
          <sourceExpression>
            <OCQL>ID</OCQL>
            <linkElement>ms_${GML_PREFIX}:Measurement_${GML_PREFIX}</linkElement>
            <linkField>FEATURE_LINK[1]</linkField>
          </sourceExpression>
        </AttributeMapping>
      </attributeMappings>
    </FeatureTypeMapping>
  </typeMappings>
</as:AppSchemaDataAccess>
