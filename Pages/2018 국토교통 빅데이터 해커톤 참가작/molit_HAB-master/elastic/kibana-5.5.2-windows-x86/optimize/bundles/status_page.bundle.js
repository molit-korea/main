webpackJsonp([2],{0:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1),__webpack_require__(2411),__webpack_require__(2390),__webpack_require__(2391),__webpack_require__(2298),__webpack_require__(2392),__webpack_require__(1).bootstrap()},667:function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(668)},668:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	 * numeral.js
	 * version : 1.5.3
	 * author : Adam Draper
	 * license : MIT
	 * http://adamwdraper.github.com/Numeral-js/
	 */
(function(){function Numeral(number){this._value=number}function toFixed(value,precision,roundingFunction,optionals){var optionalsRegExp,output,power=Math.pow(10,precision);return output=(roundingFunction(value*power)/power).toFixed(precision),optionals&&(optionalsRegExp=new RegExp("0{1,"+optionals+"}$"),output=output.replace(optionalsRegExp,"")),output}function formatNumeral(n,format,roundingFunction){var output;return output=format.indexOf("$")>-1?formatCurrency(n,format,roundingFunction):format.indexOf("%")>-1?formatPercentage(n,format,roundingFunction):format.indexOf(":")>-1?formatTime(n,format):formatNumber(n._value,format,roundingFunction)}function unformatNumeral(n,string){var thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,power,stringOriginal=string,suffixes=["KB","MB","GB","TB","PB","EB","ZB","YB"],bytesMultiplier=!1;if(string.indexOf(":")>-1)n._value=unformatTime(string);else if(string===zeroFormat)n._value=0;else{for("."!==languages[currentLanguage].delimiters.decimal&&(string=string.replace(/\./g,"").replace(languages[currentLanguage].delimiters.decimal,".")),thousandRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),millionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.million+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),billionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.billion+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),trillionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),power=0;power<suffixes.length&&!(bytesMultiplier=string.indexOf(suffixes[power])>-1&&Math.pow(1024,power+1));++power);n._value=(bytesMultiplier?bytesMultiplier:1)*(stringOriginal.match(thousandRegExp)?Math.pow(10,3):1)*(stringOriginal.match(millionRegExp)?Math.pow(10,6):1)*(stringOriginal.match(billionRegExp)?Math.pow(10,9):1)*(stringOriginal.match(trillionRegExp)?Math.pow(10,12):1)*(string.indexOf("%")>-1?.01:1)*((string.split("-").length+Math.min(string.split("(").length-1,string.split(")").length-1))%2?1:-1)*Number(string.replace(/[^0-9\.]+/g,"")),n._value=bytesMultiplier?Math.ceil(n._value):n._value}return n._value}function formatCurrency(n,format,roundingFunction){var spliceIndex,output,symbolIndex=format.indexOf("$"),openParenIndex=format.indexOf("("),minusSignIndex=format.indexOf("-"),space="";return format.indexOf(" $")>-1?(space=" ",format=format.replace(" $","")):format.indexOf("$ ")>-1?(space=" ",format=format.replace("$ ","")):format=format.replace("$",""),output=formatNumber(n._value,format,roundingFunction),symbolIndex<=1?output.indexOf("(")>-1||output.indexOf("-")>-1?(output=output.split(""),spliceIndex=1,(symbolIndex<openParenIndex||symbolIndex<minusSignIndex)&&(spliceIndex=0),output.splice(spliceIndex,0,languages[currentLanguage].currency.symbol+space),output=output.join("")):output=languages[currentLanguage].currency.symbol+space+output:output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+languages[currentLanguage].currency.symbol),output=output.join("")):output=output+space+languages[currentLanguage].currency.symbol,output}function formatPercentage(n,format,roundingFunction){var output,space="",value=100*n._value;return format.indexOf(" %")>-1?(space=" ",format=format.replace(" %","")):format=format.replace("%",""),output=formatNumber(value,format,roundingFunction),output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+"%"),output=output.join("")):output=output+space+"%",output}function formatTime(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-60*hours*60)/60),seconds=Math.round(n._value-60*hours*60-60*minutes);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)}function unformatTime(string){var timeArray=string.split(":"),seconds=0;return 3===timeArray.length?(seconds+=60*Number(timeArray[0])*60,seconds+=60*Number(timeArray[1]),seconds+=Number(timeArray[2])):2===timeArray.length&&(seconds+=60*Number(timeArray[0]),seconds+=Number(timeArray[1])),Number(seconds)}function formatByteUnits(value){var power,min,max,suffixes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],suffix=suffixes[0],abs=Math.abs(value),matched=abs<1024;if(!matched){for(power=1;power<suffixes.length;++power)if(min=Math.pow(1024,power),max=Math.pow(1024,power+1),abs>=min&&abs<max){matched=!0,suffix=suffixes[power],value/=min;break}matched||(value/=Math.pow(1024,suffixes.length-1),suffix=suffixes[suffixes.length-1])}return{value:value,suffix:suffix}}function formatNumber(value,format,roundingFunction){var units,w,precision,thousands,negP=!1,signed=!1,optDec=!1,abbr="",abbrK=!1,abbrM=!1,abbrB=!1,abbrT=!1,abbrForce=!1,bytes="",ord="",abs=Math.abs(value),d="",neg=!1;return 0===value&&null!==zeroFormat?zeroFormat:(format.indexOf("(")>-1?(negP=!0,format=format.slice(1,-1)):format.indexOf("+")>-1&&(signed=!0,format=format.replace(/\+/g,"")),format.indexOf("a")>-1&&(abbrK=format.indexOf("aK")>=0,abbrM=format.indexOf("aM")>=0,abbrB=format.indexOf("aB")>=0,abbrT=format.indexOf("aT")>=0,abbrForce=abbrK||abbrM||abbrB||abbrT,format.indexOf(" a")>-1?(abbr=" ",format=format.replace(" a","")):format=format.replace("a",""),abs>=Math.pow(10,12)&&!abbrForce||abbrT?(abbr+=languages[currentLanguage].abbreviations.trillion,value/=Math.pow(10,12)):abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB?(abbr+=languages[currentLanguage].abbreviations.billion,value/=Math.pow(10,9)):abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM?(abbr+=languages[currentLanguage].abbreviations.million,value/=Math.pow(10,6)):(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK)&&(abbr+=languages[currentLanguage].abbreviations.thousand,value/=Math.pow(10,3))),format.indexOf("b")>-1&&(format.indexOf(" b")>-1?(bytes=" ",format=format.replace(" b","")):format=format.replace("b",""),units=formatByteUnits(value),value=units.value,bytes+=units.suffix),format.indexOf("o")>-1&&(format.indexOf(" o")>-1?(ord=" ",format=format.replace(" o","")):format=format.replace("o",""),ord+=languages[currentLanguage].ordinal(value)),format.indexOf("[.]")>-1&&(optDec=!0,format=format.replace("[.]",".")),w=value.toString().split(".")[0],precision=format.split(".")[1],thousands=format.indexOf(","),precision?(precision.indexOf("[")>-1?(precision=precision.replace("]",""),precision=precision.split("["),d=toFixed(value,precision[0].length+precision[1].length,roundingFunction,precision[1].length)):d=toFixed(value,precision.length,roundingFunction),w=d.split(".")[0],d=d.split(".")[1].length?languages[currentLanguage].delimiters.decimal+d.split(".")[1]:"",optDec&&0===Number(d.slice(1))&&(d="")):w=toFixed(value,null,roundingFunction),w.indexOf("-")>-1&&(w=w.slice(1),neg=!0),thousands>-1&&(w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+languages[currentLanguage].delimiters.thousands)),0===format.indexOf(".")&&(w=""),(negP&&neg?"(":"")+(!negP&&neg?"-":"")+(!neg&&signed?"+":"")+w+d+(ord?ord:"")+(abbr?abbr:"")+(bytes?bytes:"")+(negP&&neg?")":""))}function loadLanguage(key,values){languages[key]=values}function multiplier(x){var parts=x.toString().split(".");return parts.length<2?1:Math.pow(10,parts[1].length)}function correctionFactor(){var args=Array.prototype.slice.call(arguments);return args.reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mp>mn?mp:mn},-(1/0))}var numeral,VERSION="1.5.3",languages={},currentLanguage="en",zeroFormat=null,defaultFormat="0,0",hasModule="undefined"!=typeof module&&module.exports;numeral=function(input){return numeral.isNumeral(input)?input=input.value():0===input||"undefined"==typeof input?input=0:Number(input)||(input=numeral.fn.unformat(input)),new Numeral(Number(input))},numeral.version=VERSION,numeral.isNumeral=function(obj){return obj instanceof Numeral},numeral.language=function(key,values){if(!key)return currentLanguage;if(key&&!values){if(!languages[key])throw new Error("Unknown language : "+key);currentLanguage=key}return!values&&languages[key]||loadLanguage(key,values),numeral},numeral.languageData=function(key){if(!key)return languages[currentLanguage];if(!languages[key])throw new Error("Unknown language : "+key);return languages[key]},numeral.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),numeral.zeroFormat=function(format){zeroFormat="string"==typeof format?format:null},numeral.defaultFormat=function(format){defaultFormat="string"==typeof format?format:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(callback,opt_initialValue){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var index,value,length=this.length>>>0,isValueSet=!1;for(1<arguments.length&&(value=opt_initialValue,isValueSet=!0),index=0;length>index;++index)this.hasOwnProperty(index)&&(isValueSet?value=callback(value,this[index],index,this):(value=this[index],isValueSet=!0));if(!isValueSet)throw new TypeError("Reduce of empty array with no initial value");return value}),numeral.fn=Numeral.prototype={clone:function(){return numeral(this)},format:function(inputString,roundingFunction){return formatNumeral(this,inputString?inputString:defaultFormat,void 0!==roundingFunction?roundingFunction:Math.round)},unformat:function(inputString){return"[object Number]"===Object.prototype.toString.call(inputString)?inputString:unformatNumeral(this,inputString?inputString:defaultFormat)},byteUnits:function(){return formatByteUnits(this._value).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){return this._value=Number(value),this},add:function(value){function cback(accum,curr,currI,O){return accum+corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[this._value,value].reduce(cback,0)/corrFactor,this},subtract:function(value){function cback(accum,curr,currI,O){return accum-corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[value].reduce(cback,this._value*corrFactor)/corrFactor,this},multiply:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor*(curr*corrFactor)/(corrFactor*corrFactor)}return this._value=[this._value,value].reduce(cback,1),this},divide:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor/(curr*corrFactor)}return this._value=[this._value,value].reduce(cback),this},difference:function(value){return Math.abs(numeral(this._value).subtract(value).value())}},hasModule&&(module.exports=numeral),"undefined"==typeof ender&&(this.numeral=numeral),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return numeral}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)},2411:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_notify=__webpack_require__(314);__webpack_require__(952),__webpack_require__(2412),__webpack_require__(2417);var _modules=__webpack_require__(19),chrome=__webpack_require__(1).setRootTemplate(__webpack_require__(2418)).setRootController("ui",function($http){var ui=this;ui.loading=!1,ui.refresh=function(){return ui.loading=!0,$http.get(chrome.addBasePath("/api/status")).then(function(resp){ui.fetchError&&(ui.fetchError.clear(),ui.fetchError=null);var data=resp.data,metrics=data.metrics,v6Timestamp=_lodash2["default"].get(metrics,"last_updated");if(v6Timestamp){var timestamp=new Date(v6Timestamp).getTime();ui.metrics={heapTotal:[[timestamp,_lodash2["default"].get(metrics,"process.mem.heap_max_in_bytes")]],heapUsed:[[timestamp,_lodash2["default"].get(metrics,"process.mem.heap_used_in_bytes")]],load:[[timestamp,[_lodash2["default"].get(metrics,"os.cpu.load_average.1m"),_lodash2["default"].get(metrics,"os.cpu.load_average.5m"),_lodash2["default"].get(metrics,"os.cpu.load_average.15m")]]],responseTimeAvg:[[timestamp,_lodash2["default"].get(metrics,"response_times.avg_in_millis")]],responseTimeMax:[[timestamp,_lodash2["default"].get(metrics,"response_times.max_in_millis")]],requestsPerSecond:[[timestamp,1e3*_lodash2["default"].get(metrics,"requests.total")/_lodash2["default"].get(metrics,"collection_interval_in_millis")]]}}else ui.metrics=data.metrics;ui.name=data.name,ui.statuses=data.status.statuses;var overall=data.status.overall;ui.serverState&&ui.serverState===overall.state||(ui.serverState=overall.state,ui.serverStateMessage=overall.title)})["catch"](function(){ui.fetchError||(ui.fetchError=_notify.notify.error("Failed to request server ui. Perhaps your server is down?"),ui.metrics=ui.statuses=ui.overall=null)}).then(function(){ui.loading=!1})},ui.refresh()});_modules.uiModules.get("kibana").config(function(appSwitcherEnsureNavigationProvider){appSwitcherEnsureNavigationProvider.forceNavigation(!0)})},2412:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function calcAvg(metricList,metricNumberType){return metricList.map(function(data){var uglySum=data.values.reduce(function(sumSoFar,vector){return sumSoFar+vector.y},0);return(0,_format_number2["default"])(uglySum/data.values.length,metricNumberType)})}var _to_title_case=__webpack_require__(2413),_to_title_case2=_interopRequireDefault(_to_title_case),_format_number=__webpack_require__(2414),_format_number2=_interopRequireDefault(_format_number),_read_stat_data=__webpack_require__(2415),_read_stat_data2=_interopRequireDefault(_read_stat_data),_modules=__webpack_require__(19),_status_page_metric=__webpack_require__(2416),_status_page_metric2=_interopRequireDefault(_status_page_metric);_modules.uiModules.get("kibana",[]).directive("statusPageMetric",function(){return{restrict:"E",template:_status_page_metric2["default"],scope:{name:"@",data:"="},controllerAs:"metric",controller:function($scope){var self=this;switch(self.name=$scope.name,self.title=(0,_to_title_case2["default"])(self.name),self.extendedTitle=self.title,self.numberType="precise",self.seriesNames=[],self.name){case"heapTotal":case"heapUsed":self.numberType="byte";break;case"responseTimeAvg":case"responseTimeMax":self.numberType="ms";break;case"load":self.seriesNames=["1min","5min","15min"]}$scope.$watch("data",function(data){self.rawData=data,self.chartData=(0,_read_stat_data2["default"])(self.rawData,self.seriesNames),self.averages=calcAvg(self.chartData,self.numberType);var unit="";self.averages=self.averages.map(function(average){var parts=average.split(" "),value=parts.shift();return unit=parts.join(" "),value}),self.extendedTitle=self.title,unit&&(self.extendedTitle=self.extendedTitle+" ("+unit+")")})}}})},2413:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=function(name){return name.split(/(?=[A-Z])/).map(function(word){return word[0].toUpperCase()+_lodash2["default"].rest(word).join("")}).join(" ")}},2414:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _moment=__webpack_require__(215),_moment2=_interopRequireDefault(_moment),_numeral=__webpack_require__(667),_numeral2=_interopRequireDefault(_numeral);module.exports=function(num,which){var format="0.00",postfix="";switch(which){case"time":return(0,_moment2["default"])(num).format("HH:mm:ss");case"byte":format+=" b";break;case"ms":postfix=" ms"}return(0,_numeral2["default"])(num).format(format)+postfix}},2415:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=function(data,seriesNames){var metricList=[];return seriesNames=seriesNames||[],data.forEach(function(vector){vector=_lodash2["default"].flatten(vector);var x=vector.shift();vector.forEach(function(yValue,i){var series=seriesNames[i]||"";metricList[i]||(metricList[i]={key:series,values:[]}),metricList[i].values.unshift({x:x,y:yValue})})}),metricList}},2416:function(module,exports){module.exports='<div class="status_metric_wrapper col-md-4">\n  <div class="content">\n    <h3 class="title">{{metric.extendedTitle}}</h3>\n    <h4 class="average">{{ metric.averages.join(\', \') }}</h4>\n  </div>\n</div>\n'},2417:function(module,exports){},2418:function(module,exports){module.exports='<div data-test-subj="statusPageContainer" class="container overall_state_default overall_state_{{ui.serverState}}">\n  <header>\n    <h1>\n      Status: <span class="overall_state_color">{{ ui.serverStateMessage }}</span>\n      <i class="fa overall_state_color state_icon" />\n      <span class="pull-right">\n        {{ ui.name }}\n      </span>\n    </h1>\n  </header>\n\n  <div class="row metrics_wrapper">\n    <div ng-repeat="(name, data) in ui.metrics">\n      <status-page-metric name="{{name}}" data="data"></status-page-metric>\n    </div>\n  </div>\n\n  <div class="row statuses_wrapper">\n    <h3>Status Breakdown</h3>\n\n    <div ng-if="!ui.statuses && ui.loading" class="statuses_loading">\n      <span class="spinner"></span>\n    </div>\n\n    <h4 ng-if="!ui.statuses && !ui.loading" class="statuses_missing">\n      No status information available\n    </h4>\n\n    <table class="statuses" data-test-subj="statusBreakdown" ng-if="ui.statuses">\n      <tr class="row">\n        <th class="col-xs-4">ID</th>\n        <th class="col-xs-8">Status</th>\n      </tr>\n      <tr\n        ng-repeat="status in ui.statuses"\n        class="status status_state_default status_state_{{status.state}} row">\n\n        <td class="col-xs-4 status_id">{{status.id}}</td>\n        <td class="col-xs-8 status_message">\n          <i class="fa status_state_color status_state_icon" />\n          {{status.message}}\n        </td>\n      </tr>\n    </table>\n  </div>\n</div>\n'}});